# Story 4.1: 将洞察报告一键复制为 Markdown 格式

## Status: To Do

## Story

- As a 用户
- I want 我希望能一键**将洞察报告复制为 Markdown 格式**
- so that 我可以轻松地将分析结果粘贴到我的笔记应用（如 Notion, Obsidian）或文档中，方便整理和归档

## Acceptance Criteria (ACs)

1.  [ ] 在 `InsightCard` 组件中，有一个"复制为 Markdown"的按钮或菜单项。
2.  [ ] 点击该按钮后，会生成一段格式化的 Markdown 字符串。
3.  [ ] Markdown 字符串应至少包含：
    -   一个一级标题，内容为关键词。
    -   两个二级标题，"定义"和"文化背景"。
    -   对应标题下的内容文本。
4.  [ ] 生成的 Markdown 字符串会被写入用户的剪贴板。
5.  [ ] 复制成功后，会显示一个短暂的成功提示（如 Toast 或按钮文本变为"已复制！"）。

## Tasks / Subtasks

- [ ] **Task 1: 添加复制按钮到 UI**
  - [ ] 在 `InsightCard.tsx` 组件的合适位置（如卡片头部或底部），添加一个带有复制图标的 `<Button>`。

- [ ] **Task 2: 实现 Markdown 生成和复制逻辑**
  - [ ] 在 `InsightCard.tsx` 中，创建一个 `handleCopyToMarkdown` 的事件处理函数。
  - [ ] 在该函数中，根据当前的 `insight` prop 数据，拼接出一个符合 ACs 要求的 Markdown 格式字符串。
    ```javascript
    const markdown = `# ${insight.keyword}\n\n## 定义\n${insight.definition}\n\n## 文化背景\n${insight.culturalContext}`;
    ```
  - [ ] 使用 `navigator.clipboard.writeText(markdown)` 将字符串写入剪贴板。
  - [ ] `writeText` 是一个 Promise，在其 `.then()` 中处理成功反馈。

- [ ] **Task 3: 实现用户反馈**
  - [ ] 创建一个 React state，例如 `const [isCopied, setIsCopied] = useState(false);`。
  - [ ] 在复制成功后，调用 `setIsCopied(true)`。
  - [ ] 使用 `setTimeout` 在几秒后调用 `setIsCopied(false)`，将状态重置。
  - [ ] 根据 `isCopied` 的状态，改变按钮的文本或样式（例如，从"复制"变为"已复制"）。
  - [ ] （可选）调用 `showToast("已成功复制到剪贴板", "success")` 提供更明确的反馈。 