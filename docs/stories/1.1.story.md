# Story 1.1: é¡¹ç›®åˆå§‹åŒ–å’Œå¼€å‘ç¯å¢ƒé…ç½®

## Status: Review

## Story

- As a å¼€å‘å·¥ç¨‹å¸ˆ
- I want å»ºç«‹ä¸€ä¸ªå®Œæ•´çš„å¼€å‘ç¯å¢ƒï¼ŒåŒ…æ‹¬é¡¹ç›®ç»“æ„ã€æ„å»ºå·¥å…·å’ŒåŸºç¡€é…ç½®
- so that å¯ä»¥å¼€å§‹Chromeæ‰©å±•å¼€å‘ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡

## Acceptance Criteria (ACs)

1. âœ… Vite + React + TypeScript é¡¹ç›®å·²åˆå§‹åŒ–
2. âœ… TailwindCSS å·²é…ç½®å¹¶å¯æ­£å¸¸ä½¿ç”¨
3. âœ… Chrome Extension Manifest V3 å·²é…ç½®
4. âœ… é¡¹ç›®ç›®å½•ç»“æ„ç¬¦åˆæŠ€æœ¯è§„èŒƒè¦æ±‚
5. âœ… Git ä»“åº“å·²åˆå§‹åŒ–ï¼ŒåŒ…å«é€‚å½“çš„ .gitignore
6. âœ… package.json åŒ…å«æ‰€æœ‰å¿…è¦çš„å¼€å‘å’Œæ„å»ºè„šæœ¬
7. âœ… ESLint å’Œ Prettier å·²é…ç½®
8. âœ… å¼€å‘ç¯å¢ƒå¯ä»¥æ­£å¸¸å¯åŠ¨å¹¶æ”¯æŒçƒ­é‡è½½

## Tasks / Subtasks

- [x] Task 1: åˆå§‹åŒ–é¡¹ç›®åŸºç¡€æ¶æ„ (AC: 1, 4)
  - [x] åˆ›å»ºæ–°çš„ Vite + React + TypeScript é¡¹ç›®
  - [x] é…ç½® tsconfig.json ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
  - [x] è®¾ç½®æ¨èçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š
    - `src/components/` (React ç»„ä»¶)
    - `src/services/` (æ ¸å¿ƒæœåŠ¡å±‚)
    - `src/utils/` (å·¥å…·å‡½æ•°)
    - `src/types/` (TypeScript ç±»å‹å®šä¹‰)
    - `src/hooks/` (è‡ªå®šä¹‰ React Hooks)
    - `src/constants/` (å¸¸é‡å®šä¹‰)
    - `public/` (é™æ€èµ„æºå’Œmanifest)

- [x] Task 2: é…ç½®æ„å»ºå·¥å…·å’Œæ ·å¼ç³»ç»Ÿ (AC: 2, 6)
  - [x] å®‰è£…å’Œé…ç½® TailwindCSS
  - [x] é…ç½® Vite æ„å»ºè®¾ç½®ï¼Œæ”¯æŒå¤šå…¥å£ç‚¹ï¼š
    - popup.html (å¼¹çª—é¡µé¢)
    - sidepanel.html (ä¾§è¾¹æ é¡µé¢)
    - background.ts (Service Worker)
    - content-script.ts (å†…å®¹è„šæœ¬)
  - [x] è®¾ç½®è¾“å‡ºæ–‡ä»¶å‘½åè§„åˆ™é¿å…hashå†²çª
  - [x] é…ç½®å¼€å‘æœåŠ¡å™¨æ”¯æŒçƒ­é‡è½½

- [x] Task 3: Chrome Extension é…ç½® (AC: 3)
  - [x] åˆ›å»º public/manifest.json æ–‡ä»¶
  - [x] é…ç½® Manifest V3 å¿…éœ€å­—æ®µï¼š
    - manifest_version: 3
    - name, version, description
    - permissions: ["storage", "activeTab", "sidePanel"]
    - host_permissions: ["https://trends.google.com/*", "https://generativelanguage.googleapis.com/*"]
  - [x] é…ç½® background service worker
  - [x] é…ç½® content scripts åŒ¹é…è§„åˆ™
  - [x] é…ç½® action (popup) å’Œ side_panel

- [x] Task 4: ä»£ç è´¨é‡å·¥å…·é…ç½® (AC: 7)
  - [x] å®‰è£…å’Œé…ç½® ESLintï¼š
    - React Hooks è§„åˆ™
    - TypeScript è§„åˆ™
    - ç¦ç”¨ç”Ÿäº§ç¯å¢ƒ console.log
  - [x] å®‰è£…å’Œé…ç½® Prettierï¼š
    - 2ç©ºæ ¼ç¼©è¿›
    - å•å¼•å·
    - å°¾é€—å· (es5)
    - è¡Œå®½ 80 å­—ç¬¦
  - [x] åˆ›å»º .editorconfig æ–‡ä»¶
  - [x] é…ç½® husky å’Œ lint-staged (å¯é€‰)

- [x] Task 5: ç‰ˆæœ¬æ§åˆ¶å’Œè„šæœ¬é…ç½® (AC: 5, 6)
  - [x] åˆå§‹åŒ– Git ä»“åº“
  - [x] åˆ›å»º .gitignore æ–‡ä»¶åŒ…å«ï¼š
    - node_modules/
    - dist/
    - .env
    - *.log
    - .DS_Store
  - [x] é…ç½® package.json scriptsï¼š
    - `dev`: å¼€å‘ç¯å¢ƒå¯åŠ¨
    - `build`: ç”Ÿäº§æ„å»º
    - `build:prod`: ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–æ„å»º
    - `package`: æ‰“åŒ…æ‰©å±•ä¸ºzip
    - `lint`: ESLint æ£€æŸ¥
    - `type-check`: TypeScript ç±»å‹æ£€æŸ¥

- [x] Task 6: éªŒè¯å¼€å‘ç¯å¢ƒ (AC: 8)
  - [x] åˆ›å»ºç®€å•çš„ Hello World ç»„ä»¶æµ‹è¯• React æ¸²æŸ“
  - [x] éªŒè¯ TailwindCSS æ ·å¼æ­£å¸¸åŠ è½½
  - [x] æµ‹è¯•çƒ­é‡è½½åŠŸèƒ½æ­£å¸¸å·¥ä½œ
  - [x] éªŒè¯ TypeScript ç¼–è¯‘æ— é”™è¯¯
  - [x] ç¡®ä¿æ‰©å±•å¯ä»¥åŠ è½½åˆ° Chrome å¼€å‘ç¯å¢ƒ

## Dev Technical Guidance

### å…³é”®é…ç½®å‚è€ƒ

**Vite é…ç½®è¦ç‚¹** (å‚è€ƒ `docs/dev-guide.md#vite-config`):
```typescript
// vite.config.ts å…³é”®é…ç½®
build: {
  rollupOptions: {
    input: {
      popup: resolve(__dirname, 'popup.html'),
      sidepanel: resolve(__dirname, 'sidepanel.html'),
      background: resolve(__dirname, 'src/background.ts'),
      content: resolve(__dirname, 'src/content-script.ts'),
    }
  }
}
```

**TypeScript ä¸¥æ ¼é…ç½®** (å‚è€ƒ `docs/tech-spec.md#typescript-config`):
- å¯ç”¨ `strict: true`
- å¯ç”¨ `noImplicitReturns: true`
- å¯ç”¨ `noUncheckedIndexedAccess: true`

**Chrome Extension æƒé™é…ç½®**:
- å¿…é¡»åŒ…å« `sidePanel` æƒé™ä»¥æ”¯æŒä¾§è¾¹æ åŠŸèƒ½
- host_permissions å¿…é¡»åŒ…å« Google Trends å’Œ Gemini API åŸŸå

### é¡¹ç›®ç»“æ„å¯¹é½

ç¡®ä¿åˆ›å»ºçš„ç›®å½•ç»“æ„ä¸ `docs/tech-spec.md#é¡¹ç›®ç»“æ„` å®Œå…¨ä¸€è‡´ï¼š
- æ‰€æœ‰æœåŠ¡ç±»åº”æ”¾åœ¨ `src/services/` ç›®å½•
- React ç»„ä»¶æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç»„ (`ui/`, `onboarding/`, `sidepanel/`)
- ç±»å‹å®šä¹‰ç»Ÿä¸€ç®¡ç†åœ¨ `src/types/`

### å¼€å‘ç¯å¢ƒéªŒè¯æ¸…å•

1. âœ… `pnpm run dev` èƒ½æ­£å¸¸å¯åŠ¨å¼€å‘æœåŠ¡å™¨
2. âœ… è®¿é—® localhost èƒ½çœ‹åˆ°é»˜è®¤é¡µé¢
3. âœ… ä¿®æ”¹ä»£ç èƒ½è§¦å‘çƒ­é‡è½½
4. âœ… `pnpm run build:prod` èƒ½æˆåŠŸæ„å»º
5. âœ… Chrome å¼€å‘è€…æ¨¡å¼èƒ½åŠ è½½æ„å»ºåçš„æ‰©å±•

### é‡è¦è§£å†³æ–¹æ¡ˆè®°å½•

**@crxjs/vite-plugin TypeScript é…ç½®**:
- åœ¨ manifest.json ä¸­ç›´æ¥ä½¿ç”¨ `.ts` æ‰©å±•å
- ä½¿ç”¨ `pnpm run build:prod` è€Œé `pnpm run build` è¿›è¡Œç”Ÿäº§æ„å»º
- ç¡®ä¿service-worker-loader.jsä¸åŒ…å«localhostå¼€å‘ç¯å¢ƒå¼•ç”¨

### æµ‹è¯•æŒ‡å¯¼

**å•å…ƒæµ‹è¯•è®¾ç½®**:
- å®‰è£… Jest å’Œ @testing-library/react
- é…ç½®æµ‹è¯•ç¯å¢ƒæ”¯æŒ TypeScript å’Œ JSX
- åˆ›å»ºç®€å•çš„ç»„ä»¶æ¸²æŸ“æµ‹è¯•éªŒè¯ç¯å¢ƒ

**é›†æˆæµ‹è¯•**:
- éªŒè¯ Vite æ„å»ºè¾“å‡ºæ­£ç¡®çš„æ–‡ä»¶ç»“æ„
- æµ‹è¯• Chrome Extension manifest éªŒè¯é€šè¿‡
- ç¡®ä¿æ‰€æœ‰é…ç½®çš„è„šæœ¬å‘½ä»¤æ­£å¸¸æ‰§è¡Œ

**éªŒæ”¶æµ‹è¯•åœºæ™¯**:
1. âœ… å¼€å‘è€…å¯ä»¥ä½¿ç”¨ `pnpm install` å®‰è£…ä¾èµ–
2. âœ… è¿è¡Œ `pnpm dev` å¯åŠ¨å¼€å‘ç¯å¢ƒ
3. âœ… è¿è¡Œ `pnpm build:prod` ç”Ÿæˆå¯åŠ è½½çš„æ‰©å±•æ–‡ä»¶
4. âœ… åœ¨ Chrome ä¸­åŠ è½½æ‰©å±•ä¸å‡ºç°é”™è¯¯
5. âœ… ä»£ç ä¿®æ”¹èƒ½è§¦å‘çƒ­é‡è½½æ›´æ–°

## Story Progress Notes

### Agent Model Used: `Frontend Developer Ellyn`

### Final Implementation Status

**âœ… æ‰€æœ‰ä»»åŠ¡å·²å®Œæˆ (100%)**
1. é¡¹ç›®åŸºç¡€æ¶æ„ - Vite + React + TypeScript + ä¸¥æ ¼æ¨¡å¼é…ç½® âœ…
2. TypeScriptä¸¥æ ¼æ¨¡å¼é…ç½®å’Œç¼–è¯‘éªŒè¯ âœ…
3. TailwindCSS é…ç½®å’Œè·¯å¾„ä¼˜åŒ– âœ…
4. é¡¹ç›®ç›®å½•ç»“æ„åˆ›å»º âœ…
5. ESLint å’Œ Prettier é…ç½®æ–‡ä»¶ âœ…
6. EditorConfig é…ç½® âœ…
7. package.json è„šæœ¬æ›´æ–° âœ…
8. .gitignore ä¼˜åŒ– âœ…
9. Manifest V3 é…ç½® âœ…
10. HTML å…¥å£ç‚¹åˆ›å»º (popup.html, sidepanel.html) âœ…
11. åŸºç¡€Reactç»„ä»¶å’Œå…¥å£ç‚¹ âœ…
12. Chrome Extensionæ„å»ºå’ŒåŠ è½½éªŒè¯ âœ…

**ğŸ”§ å…³é”®é—®é¢˜è§£å†³:**
1. **@crxjs/vite-plugin TypeScriptæ”¯æŒ** - åœ¨manifest.jsonä¸­ä½¿ç”¨.tsæ‰©å±•å
2. **service-worker-loader.jsé”™è¯¯** - ä½¿ç”¨`build:prod`å‘½ä»¤ç”Ÿæˆæ­£ç¡®çš„ç”Ÿäº§æ„å»º
3. **é¡¹ç›®ç»“æ„å¯¹é½** - åˆ›å»ºç¬¦åˆtech-specè¦æ±‚çš„ç›®å½•å¸ƒå±€
4. **å·¥å…·å‡½æ•°ç¼ºå¤±** - åˆ›å»ºutils.tså’Œuse-mobile.tsè§£å†³ä¾èµ–é—®é¢˜

**ğŸ“Š æœ€ç»ˆéªŒæ”¶çŠ¶æ€:**
- âœ… **8/8 éªŒæ”¶æ ‡å‡†å…¨éƒ¨å®Œæˆ**
- âœ… **æ‰€æœ‰æ„å»ºå’Œéƒ¨ç½²æµ‹è¯•é€šè¿‡**
- âœ… **Chrome Extensionåœ¨å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒæ­£å¸¸å·¥ä½œ**

### Completion Notes List

- 2025-01-11 16:32: å¼€å§‹Story 1.1å®æ–½ï¼ŒçŠ¶æ€æ›´æ–°ä¸ºInProgress
- 2025-01-11 16:45: å®ŒæˆåŸºç¡€æ¶æ„é…ç½®ï¼ŒåŒ…æ‹¬ç›®å½•ç»“æ„å’ŒTypeScripté…ç½®
- 2025-01-11 16:50: å®ŒæˆTailwindCSSå’ŒViteé…ç½®
- 2025-01-11 17:00: å®ŒæˆChrome Extension Manifestå’ŒHTMLå…¥å£ç‚¹
- 2025-01-11 17:10: å®Œæˆä»£ç è´¨é‡å·¥å…·é…ç½®(ESLint/Prettier/EditorConfig)
- 2025-01-11 17:15: å®Œæˆpackage.jsonè„šæœ¬å’Œ.gitignoreæ›´æ–°
- 2025-01-11 17:20: åˆ›å»ºåŸºç¡€Reactç»„ä»¶å’Œå·¥å…·å‡½æ•°
- 2025-01-11 17:25: é‡åˆ°æ„å»ºé—®é¢˜ï¼Œéœ€è¦ä¿®å¤crxæ’ä»¶é…ç½®
- 2025-01-11 17:40: è§£å†³@crxjs/vite-plugin TypeScripté…ç½®é—®é¢˜
- 2025-01-11 17:45: ä¿®å¤service-worker-loader.jsæ„å»ºé—®é¢˜
- 2025-01-11 17:50: å®Œæˆæ‰€æœ‰éªŒæ”¶æµ‹è¯•ï¼ŒStoryçŠ¶æ€æ›´æ–°ä¸ºReview

### Change Log

- 2025-01-XX: Story created by Scrum Master Bob
- åŸºäº task-breakdown.md Sprint 1 é˜¶æ®µ 1.1 ä»»åŠ¡åˆ›å»º
- æŠ€æœ¯æŒ‡å¯¼å‚è€ƒ tech-spec.md å’Œ dev-guide.md
- 2025-01-11: å¼€å§‹å®æ–½ï¼ŒFrontend Developer Ellynæ¥æ‰‹
- 2025-01-11: è§£å†³æ„å»ºé…ç½®é—®é¢˜å¹¶å®Œæˆæ‰€æœ‰éªŒæ”¶æ ‡å‡†
- 2025-01-11: Story 1.1 å®Œæˆï¼Œå‡†å¤‡è¿›å…¥Reviewé˜¶æ®µ 