# Story 2.2: 引导用户选择默认结果语言

## Status: Done

## Story

- As a 用户
- I want 在引导流程中可以**手动选择一个默认的结果语言**
- so that 后续的 AI 洞察能符合我的语言偏好，提升分析结果的价值

## Acceptance Criteria (ACs)

1.  [x] 在 Onboarding 界面中，提供一个下拉选择框，用于选择语言。
2.  [x] 下拉框中至少包含"中文"、"English"等预设选项。
3.  [x] 用户选择一个语言后，该选项应显示在选择框中。
4.  [x] 用户的选择会被 `StorageService` 持久化保存。
5.  [x] 在后续的 AI 分析调用中，该语言设置会被 `ApiService` 作为参数使用。

## Tasks / Subtasks

- [x] **Task 1: 构建语言选择 UI**
  - [x] 在 Onboarding 流程的某个合适步骤（例如 `SettingsDrawer.tsx` 或 `ApiKeyForm.tsx`），添加一个 `<Select>` 组件。
  - [x] 定义一个常量列表 `SUPPORTED_LANGUAGES`，包含语言的显示名和值（如 `{ name: '中文', value: 'zh-CN' }`）。
  - [x] 将语言列表填充到 `<Select>` 组件的选项中。

- [x] **Task 2: 实现语言设置的持久化**
  - [x] 当用户在 `<Select>` 组件中做出新的选择时，触发 `onValueChange` 事件。
  - [x] 在事件处理函数中，调用 `storageService.setLanguage(selectedLanguage)` 来保存用户的偏好。
  - [x] 确保组件能够从 `storageService.getLanguage()` 读取并显示当前已保存的语言设置。

- [x] **Task 3: 集成到 API 调用**
  - [x] 修改 `ApiService` 中进行 AI 分析的方法（如 `analyzeKeyword`），使其接受一个 `language` 参数。
  - [x] 确保前端在调用 `ApiService` 时，会先从 `StorageService` 获取当前设置的语言，并将其传递给 API 调用。
  - [x] 更新 AI 的 system prompt，明确指示它使用用户选择的语言进行分析和回答。 